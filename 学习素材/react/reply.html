<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>React</title>
</head>
<body>
	<script src="./build/react.js"></script>
    <script src="./build/JSXTransformer.js"></script>
    <script type="text/jsx">
    	{/*子集组件*/}
        var Content =React.createClass({
    		getInitialState: function () {
                return {
                    inputText: "",
                };
            },
            handleChange: function (event) {
                this.setState({inputText: event.target.value});
            },
            handleSubmit: function () {
                console.log("reply To: " + this.props.selectName + "\n" + this.state.inputText);
            },
            //子组件的显示内容
            render:function () {
				return <div>
                            <textarea onChange={this.handleChange} placeholder="留言内容"></textarea>
                            <button onClick={this.handleSubmit}>提交</button>
                        </div>;
    		},
    	});
    {/*父级组件*/}
    	var Comment =React.createClass({
    		getInitialState:function() {
                return{
                    names:["tim","Jhon","Hank"],
                    selectName:'',
                };
            },
            //选select标签时更新其状态
            handleSelect:function(event){
                this.setState({selectName:event.target.value});
            },
            render:function(){
    		    //申明数组为空，最后的表现形式要时标签加内容的样式
                var options=[];
                //遍历state状态中得names属性
                for (var option in this.state.names) {
                    //将每一个索引对应的names赋值到options数组中，并以<option value="0">Tim</option>的形式
                    options.push(<option value={option}>{this.state.names[option]}</option>)
                };
                //父组件的显示内容+调用子组件
                return <div>
						<select onChange={this.handleSelect}>
							{options}
						</select>
						<Content selectName={this.state.selectName}></Content> 
						</div>;

    		},
    	});
    	React.render(<Comment></Comment>, document.body);
    </script>
</body>
</html>